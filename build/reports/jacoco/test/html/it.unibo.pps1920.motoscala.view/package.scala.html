<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>package.scala</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">pps-19-motoScala</a> &gt; <a href="index.source.html" class="el_package">it.unibo.pps1920.motoscala.view</a> &gt; <span class="el_source">package.scala</span></div><h1>package.scala</h1><pre class="source lang-java linenums">package it.unibo.pps1920.motoscala

import com.jfoenix.controls.{JFXDialog, JFXDialogLayout}
import eu.hansolo.enzo.notification.{Notification, NotificationEvent}
import it.unibo.pps1920.motoscala.view.JavafxEnums.{BigDialog, InfoNotification, MediumDuration}
import it.unibo.pps1920.motoscala.view.screens.{FXMLScreens, ScreenController}
import javafx.application.Platform
import javafx.event.EventHandler
import javafx.fxml.FXMLLoader
import javafx.scene.input.MouseEvent
import javafx.scene.layout.StackPane
import javafx.scene.text.Text
import javafx.scene.{CacheHint, Node, Scene}
import javafx.util.Duration
import org.kordamp.ikonli.Ikon
import org.kordamp.ikonli.javafx.FontIcon

<span class="nc" id="L18">package object view {</span>
<span class="nc" id="L19">  def initializeJavaFXThread(): Unit = Platform.startup(() =&gt; {})</span>

  /** Load the fxml and create the render node
   *
   * @param fxml the fxml
   * @param controller the screen controller
   * @return the loaded node
   */
  def loadFxml(fxml: FXMLScreens, controller: ScreenController): Node = {
<span class="nc" id="L28">    val loader = new FXMLLoader(View.getClass.getResource(fxml.resourcePath))</span>
<span class="nc" id="L29">    loader.setController(controller)</span>
<span class="nc" id="L30">    loader.load()</span>
  }

  /** Charge css into the main scene
   *
   * @param scene the Scene
   * @param screen the FXMLScreen
   */
<span class="nc" id="L38">  def chargeSceneSheets(scene: Scene, screen: FXMLScreens): Unit = scene.getStylesheets</span>
<span class="nc" id="L39">    .add(View.getClass.getResource(screen.cssPath).toString)</span>

  /** A simple method for charging icon in node.
   *
   * @param icon the icon
   * @param fontSize the font size
   * @return the icon
   */
  def iconSetter(icon: Ikon, fontSize: JavafxEnums.IconDimension): FontIcon = {
<span class="nc" id="L48">    val tempIcon = new FontIcon(icon)</span>
<span class="nc" id="L49">    tempIcon.setIconSize(fontSize.dim)</span>
<span class="nc" id="L50">    tempIcon</span>
  }

  /** Show a simple dialog
   *
   * @param title the string title of the notification
   * @param message the String text of the notification
   * @param ev the event to call on close
   */
  def showSimpleDialog(mainPane: StackPane,
                       title: String,
                       message: String,
                       ev: EventHandler[MouseEvent]): Unit =
<span class="nc" id="L63">    Platform.runLater(() =&gt; showDialog(mainPane, title, message, BigDialog, ev))</span>

  /** Show a dialog into the main pane.
   *
   * @param mainPane the main [[StackPane]]
   * @param title the String title dialog
   * @param description the String description
   * @param size the  size
   * @param ev the [[MouseEvent]]
   */
  private[view] def showDialog(mainPane: StackPane,
                               title: String,
                               description: String,
                               size: JavafxEnums.DimDialog,
                               ev: EventHandler[MouseEvent]): Unit = {
<span class="nc" id="L78">    var css = &quot;&quot;</span>
<span class="nc" id="L79">    val content = new JFXDialogLayout</span>
<span class="nc" id="L80">    val _title = new Text(title)</span>
<span class="nc" id="L81">    val _description = new Text(description)</span>
<span class="nc" id="L82">    size match {</span>
<span class="nc bnc" id="L83" title="All 2 branches missed.">      case JavafxEnums.SmallDialog =&gt;</span>
<span class="nc" id="L84">        css = &quot;dialogTextSmall&quot;</span>
<span class="nc bnc" id="L85" title="All 2 branches missed.">      case JavafxEnums.MediumDialog =&gt;</span>
<span class="nc" id="L86">        css = &quot;dialogTextMedium&quot;</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">      case JavafxEnums.BigDialog =&gt;</span>
<span class="nc" id="L88">        css = &quot;dialogTextBig&quot;</span>
<span class="nc" id="L89">      case _ =&gt;</span>
    }
<span class="nc" id="L91">    _title.getStyleClass.add(css)</span>
<span class="nc" id="L92">    _description.getStyleClass.add(css)</span>
<span class="nc" id="L93">    content.setHeading(new StackPane(_title))</span>
<span class="nc" id="L94">    content.setBody(new StackPane(_description))</span>
<span class="nc" id="L95">    val dialog = new JFXDialog(mainPane, content, JFXDialog.DialogTransition.CENTER)</span>
<span class="nc" id="L96">    content.getStyleClass.add(&quot;dialogContentBackground&quot;)</span>
<span class="nc" id="L97">    dialog.getStyleClass.add(&quot;dialogBackground&quot;)</span>
<span class="nc" id="L98">    dialog.show()</span>
<span class="nc" id="L99">    content.setCache(true)</span>
<span class="nc" id="L100">    content.setCacheHint(CacheHint.SPEED)</span>
<span class="nc" id="L101">    dialog.setOnMouseClicked(ev)</span>
  }

  /** Show a simple popup
   *
   * @param title the string title of the notification
   * @param message the String text of the notification
   */
  def showSimplePopup(title: String, message: String): Unit =
<span class="nc" id="L110">    Platform.runLater(() =&gt; showNotificationPopup(title, message, MediumDuration, InfoNotification, () =&gt; _))</span>

  /** Show a notification popup into the main windows of the operating system.
   *
   * @param title the String title of the notification
   * @param message the String text of the notification
   * @param secondsDuration the number of  of the notification
   * @param notificationType the type of the notification
   * @param ev the [[EventHandler]] ev, lambda
   */
  private[view] def showNotificationPopup(
    title: String, message: String,
    secondsDuration: JavafxEnums.Notification_Duration,
    notificationType: JavafxEnums.NotificationType,
    ev: EventHandler[NotificationEvent]): Unit = {
<span class="nc" id="L125">    val no = Notification.Notifier.INSTANCE</span>
<span class="nc" id="L126">    val notification = new Notification(title, message)</span>
<span class="nc" id="L127">    no.setPopupLifetime(Duration.seconds(secondsDuration.time))</span>
<span class="nc" id="L128">    notificationType match {</span>
<span class="nc bnc" id="L129" title="All 2 branches missed.">      case JavafxEnums.ErrorNotification =&gt; no.notifyError(title, message)</span>
<span class="nc bnc" id="L130" title="All 2 branches missed.">      case JavafxEnums.WarningNotification =&gt; no.notifyWarning(title, message)</span>
<span class="nc bnc" id="L131" title="All 2 branches missed.">      case JavafxEnums.SuccessNotification =&gt; no.notifySuccess(title, message)</span>
<span class="nc bnc" id="L132" title="All 2 branches missed.">      case JavafxEnums.InfoNotification =&gt; no.notifyInfo(title, message)</span>
<span class="nc" id="L133">      case _ =&gt; no.notify(notification)</span>
    }
<span class="nc" id="L135">    no.setOnNotificationPressed(ev)</span>
  }

  /** Constants for notification, popups, dialogs.
   */
<span class="nc" id="L140">  object JavafxEnums {</span>
<span class="nc" id="L141">    sealed abstract class DimDialog(val dim: Int) {}</span>
<span class="nc" id="L142">    case object BigDialog extends DimDialog(3)</span>
<span class="nc" id="L143">    case object MediumDialog extends DimDialog(2)</span>
<span class="nc" id="L144">    case object SmallDialog extends DimDialog(1)</span>

<span class="nc" id="L146">    sealed abstract class IconDimension(val dim: Int) {}</span>
<span class="nc" id="L147">    case object BiggestIcon extends IconDimension(80)</span>
<span class="nc" id="L148">    case object BiggerIcon extends IconDimension(60)</span>
<span class="nc" id="L149">    case object BigIcon extends IconDimension(40)</span>
<span class="nc" id="L150">    case object MediumIcon extends IconDimension(30)</span>
<span class="nc" id="L151">    case object SmallIcon extends IconDimension(20)</span>
<span class="nc" id="L152">    case object SmallerIcon extends IconDimension(15)</span>
<span class="nc" id="L153">    case object SmallestIcon extends IconDimension(10)</span>

<span class="nc" id="L155">    sealed abstract class NotificationType(val code: Int) {}</span>
<span class="nc" id="L156">    case object ErrorNotification extends NotificationType(1)</span>
<span class="nc" id="L157">    case object WarningNotification extends NotificationType(2)</span>
<span class="nc" id="L158">    case object SuccessNotification extends NotificationType(3)</span>
<span class="nc" id="L159">    case object InfoNotification extends NotificationType(4)</span>

<span class="nc" id="L161">    sealed abstract class Notification_Duration(val time: Int) {}</span>
<span class="nc" id="L162">    case object LongDuration extends Notification_Duration(7)</span>
<span class="nc" id="L163">    case object MediumDuration extends Notification_Duration(5)</span>
<span class="nc" id="L164">    case object ShortDuration extends Notification_Duration(3)</span>
  }
<span class="nc" id="L166">}</span>
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>